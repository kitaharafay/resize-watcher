var n=function(){return n=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},n.apply(this,arguments)};function e(n,e){var t=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t&&(clearTimeout(t),t=null),t=setTimeout((function(){return n.apply(void 0,r)}),e)}}"function"==typeof SuppressedError&&SuppressedError;var t={immediate:!1,duration:300,handler:void 0,mode:"simple",threshold:[]},r=new WeakMap,o=ResizeObserver,i=function(){function i(e,r){this.el=e;var o=n(n({},t),r);this.options=o}return i.create=function(n,e){return new i(n,e)},i.prototype.mount=function(){var n,t,i=!0,u=this.options,l=this.el,c=u.immediate,s=u.duration,h=u.handler,p=u.mode,d=u.threshold;n=s&&s>0?h&&e(h,s):h,"threshold"===p&&(t=null==d?void 0:d.map((function(n){return{range:[Math.min(n.range[0],n.range[1]),Math.max(n.range[0],n.range[1])],handler:n.handler&&e(n.handler,s)}})));var f=new o((function(e){e.forEach((function(e){c&&i&&("simple"===p?h&&h(e.contentRect):a(d,e.contentRect)),i?i=!1:"simple"===p?null==n||n(e.contentRect):a(t,e.contentRect)}))}));f.observe(l),r.set(l,f)},i.prototype.unmount=function(){var n=this.el,e=r.get(n);null==e||e.unobserve(n),r.delete(n)},i}();function a(n,e){null==n||n.forEach((function(n){var t=n.range,r=n.handler,o=e.width;t[0]<=o&&o<=t[1]&&r&&r(e)}))}export{i as Watcher};
